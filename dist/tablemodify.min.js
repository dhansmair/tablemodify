(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(n){"use strict";function t(n,t){for(var e=[],r=0,u=n.length;r<u;r++)e.push(n[r].substr(0,t));return e}function e(n){return function(t,e,r){var u=r[n].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~u&&(t.month=u)}}function r(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n}var u={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,a=/\d\d?/,i=/\d{3}/,s=/\d{4}/,m=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,d=/\[([^]*?)\]/gm,c=function(){},f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],l=t(h,3),M=t(f,3);u.i18n={dayNamesShort:M,dayNames:f,monthNamesShort:l,monthNames:h,amPm:["am","pm"],DoFn:function(n){return n+["th","st","nd","rd"][n%10>3?0:(n-n%10!=10)*n%10]}};var g={D:function(n){return n.getDate()},DD:function(n){return r(n.getDate())},Do:function(n,t){return t.DoFn(n.getDate())},d:function(n){return n.getDay()},dd:function(n){return r(n.getDay())},ddd:function(n,t){return t.dayNamesShort[n.getDay()]},dddd:function(n,t){return t.dayNames[n.getDay()]},M:function(n){return n.getMonth()+1},MM:function(n){return r(n.getMonth()+1)},MMM:function(n,t){return t.monthNamesShort[n.getMonth()]},MMMM:function(n,t){return t.monthNames[n.getMonth()]},YY:function(n){return String(n.getFullYear()).substr(2)},YYYY:function(n){return n.getFullYear()},h:function(n){return n.getHours()%12||12},hh:function(n){return r(n.getHours()%12||12)},H:function(n){return n.getHours()},HH:function(n){return r(n.getHours())},m:function(n){return n.getMinutes()},mm:function(n){return r(n.getMinutes())},s:function(n){return n.getSeconds()},ss:function(n){return r(n.getSeconds())},S:function(n){return Math.round(n.getMilliseconds()/100)},SS:function(n){return r(Math.round(n.getMilliseconds()/10),2)},SSS:function(n){return r(n.getMilliseconds(),3)},a:function(n,t){return n.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(n,t){return n.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(n){var t=n.getTimezoneOffset();return(t>0?"-":"+")+r(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},D={D:[a,function(n,t){n.day=t}],Do:[new RegExp(a.source+m.source),function(n,t){n.day=parseInt(t,10)}],M:[a,function(n,t){n.month=t-1}],YY:[a,function(n,t){var e=new Date,r=+(""+e.getFullYear()).substr(0,2);n.year=""+(t>68?r-1:r)+t}],h:[a,function(n,t){n.hour=t}],m:[a,function(n,t){n.minute=t}],s:[a,function(n,t){n.second=t}],YYYY:[s,function(n,t){n.year=t}],S:[/\d/,function(n,t){n.millisecond=100*t}],SS:[/\d{2}/,function(n,t){n.millisecond=10*t}],SSS:[i,function(n,t){n.millisecond=t}],d:[a,c],ddd:[m,c],MMM:[m,e("monthNamesShort")],MMMM:[m,e("monthNames")],a:[m,function(n,t,e){var r=t.toLowerCase();r===e.amPm[0]?n.isPm=!1:r===e.amPm[1]&&(n.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(n,t){"Z"===t&&(t="+00:00");var e,r=(t+"").match(/([\+\-]|\d\d)/gi);r&&(e=60*r[1]+parseInt(r[2],10),n.timezoneOffset="+"===r[0]?e:-e)}]};D.dd=D.d,D.dddd=D.ddd,D.DD=D.D,D.mm=D.m,D.hh=D.H=D.HH=D.h,D.MM=D.M,D.ss=D.s,D.A=D.a,u.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},u.format=function(n,t,e){var r=e||u.i18n;if("number"==typeof n&&(n=new Date(n)),"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n.getTime()))throw new Error("Invalid Date in fecha.format");t=u.masks[t]||t||u.masks.default;var a=[];return t=t.replace(d,function(n,t){return a.push(t),"??"}),t=t.replace(o,function(t){return t in g?g[t](n,r):t.slice(1,t.length-1)}),t.replace(/\?\?/g,function(){return a.shift()})},u.parse=function(n,t,e){var r=e||u.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=u.masks[t]||t,n.length>1e3)return!1;var a=!0,i={};if(t.replace(o,function(t){if(D[t]){var e=D[t],u=n.search(e[0]);~u?n.replace(e[0],function(t){return e[1](i,t,r),n=n.substr(u+t.length),t}):a=!1}return D[t]?"":t.slice(1,t.length-1)}),!a)return!1;var s=new Date;!0===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:!1===i.isPm&&12==+i.hour&&(i.hour=0);var m;return null!=i.timezoneOffset?(i.minute=+(i.minute||0)-+i.timezoneOffset,m=new Date(Date.UTC(i.year||s.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0))):m=new Date(i.year||s.getFullYear(),i.month||0,i.day||1,i.hour||0,i.minute||0,i.second||0,i.millisecond||0),m},"undefined"!=typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):n.fecha=u}(this);
},{}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_require=require("./utils.js"),error=_require.error,RELOAD="__reload",FILTER="filter",SORTER="sorter",PAGER="pager",RENDERER="__renderer",FIXED="fixed",RESIZER="resizer",hierarchy=[RELOAD,FILTER,SORTER,PAGER,RENDERER,RESIZER,FIXED];module.exports=function(){function e(r){_classCallCheck(this,e),this.tm=r}return _createClass(e,[{key:"notify",value:function(e,r){try{var t=this.getSuccessor(e);null!=t&&t.notify(r)}catch(e){error(e)}}},{key:"getSuccessor",value:function(e){var r=hierarchy.indexOf(e)+1;if(0===r)return null;for(;r<hierarchy.length;r++){var t=hierarchy[r];if(this.tm.activeModules.hasOwnProperty(t))return this.tm.activeModules[t]}}}]),e}();

},{"./utils.js":16}],3:[function(require,module,exports){
"use strict";exports.debug=!1,exports.coreDefaults={theme:"default",language:"en",usesExternalData:!1};

},{}],4:[function(require,module,exports){
"use strict";function _defineProperty(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}var _DATE_I18N,_DATE_FORMATS,fecha=require("fecha"),DATE_GERMAN="german",DATE_ENGLISH="english",DATE_I18N=(_DATE_I18N={},_defineProperty(_DATE_I18N,DATE_GERMAN,{dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],amPm:["am","pm"],DoFn:function(e){return e+"."}}),_defineProperty(_DATE_I18N,DATE_ENGLISH,{dayNamesShort:["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}}),_DATE_I18N),DATE_FORMATS=(_DATE_FORMATS={},_defineProperty(_DATE_FORMATS,DATE_GERMAN,["MM.DD.YYYY","MM.DD.YY"]),_defineProperty(_DATE_FORMATS,DATE_ENGLISH,["YYYY-MM-DD","MM/DD/YYYY"]),_DATE_FORMATS);module.exports={fecha:fecha,DATE_GERMAN:DATE_GERMAN,DATE_ENGLISH:DATE_ENGLISH,DATE_I18N:DATE_I18N,DATE_FORMATS:DATE_FORMATS};

},{"fecha":1}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();module.exports=function(){function e(t){_classCallCheck(this,e),this.tm=t,this.events={}}return _createClass(e,[{key:"on",value:function(e,t){if("function"!=typeof t)throw new Error("not a function!");this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t)}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.events.hasOwnProperty(e)&&this.events[e].forEach(function(e){e.apply(t.tm,r)})}}]),e}();

},{}],6:[function(require,module,exports){
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),_require=require("./utils.js"),extend=_require.extend,warn=_require.warn,defaults={FILTER_PLACEHOLDER:"type filter here",FILTER_CASESENSITIVE:"case-sensitive",FILTER_MATCHING:"matching",FILTER_COMPARATOR:"comparator",FILTER_RANGE:"range",FILTER_RANGE_LIMIT:"upper limit",FILTER_TITLE_STRING:"string search",FILTER_TITLE_NUMERIC:"numeric search",FILTER_TITLE_DATE:"date search",PAGER_PAGENUMBER_SEPARATOR:" / "};module.exports=function(){function e(r,t){_classCallCheck(this,e),this.identifier=r,this.terms=extend(defaults,t)}return _createClass(e,[{key:"get",value:function(e){return this.terms.hasOwnProperty(e)?this.terms[e]:(warn("term "+e+" not defined"),"")}}]),e}();

},{"./utils.js":16}],7:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Module=require("./module.js"),_require=require("../utils.js"),addClass=_require.addClass,iterate=_require.iterate,info=_require.info,error=_require.error,replaceIdsWithIndices=_require.replaceIdsWithIndices,tm=void 0,ColumnStyles=function e(t){_classCallCheck(this,e),addClass(tm.domElements.container,"tm-column-styles");var r=tm.containerId;t=replaceIdsWithIndices(t);var n="div#"+r+" table tr > * {";iterate(t.all,function(e,t){n+=e+": "+t+";"}),n+="}",iterate(t,function(e,t){if("all"!==e){var i=parseInt(e)+1;n+="div#"+r+" table tr > *:nth-of-type("+i+") {",iterate(t,function(e,t){n+=e+": "+t+";"}),n+="}"}}),tm.appendStyles(n),info("module columnStyles loaded")};module.exports=new Module({name:"columnStyles",defaultSettings:{all:{}},initializer:function(e){try{tm=this;new ColumnStyles(e);return{unset:function(){info("unsetting columnStyles")}}}catch(e){error(e)}}});

},{"../utils.js":16,"./module.js":12}],8:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_require=require("../utils.js"),hasClass=_require.hasClass,addClass=_require.addClass,removeClass=_require.removeClass,extend2=_require.extend2,isNumber=_require.isNumber,log=_require.log,info=_require.info,error=_require.error,Module=require("./module.js"),HandlerFactory=require("./filterHandlers.js"),tm=void 0,HandlerList=function(){function e(){_classCallCheck(this,e),this.list=[],this.limit=1}return _createClass(e,[{key:"setLimit",value:function(e){this.limit=e}},{key:"countShown",value:function(){return this.list.length}},{key:"hideAll",value:function(){for(;this.list.length>0;)this.setInActive(this.list[0])}},{key:"setActive",value:function(e){0===this.list.length&&addClass(tm.domElements.container,"tm-filter-open");var t=this.list.indexOf(e);if(-1!==t&&this.list.splice(t,1),this.list.length==this.limit){this.list.shift().hide()}this.list.push(e),e.show(),this._setZIndices()}},{key:"setInActive",value:function(e){var t=this.list.indexOf(e);-1!==t&&(this.list.splice(t,1),e.hide(),this._setZIndices()),0===this.list.length&&removeClass(tm.domElements.container,"tm-filter-open")}},{key:"_setZIndices",value:function(){for(var e=0;e<this.list.length;e++)this.list[e].setZIndex(10+e)}}]),e}(),handlerList=new HandlerList,defaultStringSettings={enabled:!0,type:"string",options:{cs:!1,matching:!1}},defaultNumericSettings={enabled:!0,type:"numeric",options:{comparator:!0,range:!0}},Model=function(){function e(){_classCallCheck(this,e),this.evaluators=null}return _createClass(e,[{key:"setEvaluators",value:function(e){this.evaluators=e}},{key:"getStats",value:function(){for(var e=[],t=0;t<this.evaluators.length;t++){var n=this.evaluators[t];if(n.isActive()){var i=n.getStats();e.push(i)}}return e}},{key:"filter",value:function(){if(tm.beforeUpdate("filter")){var e=tm.getAllRows(),t=void 0,n=this.evaluators.filter(function(e){return e.isActive()});if(0===n.length)tm.setAvailableRows(e);else{var i=n.length;t=e.filter(function(e){for(var t=0,s=!0;s&&t<i;){var l=n[t],r=l.index,a=e.cells[r].textContent;s=l.evaluate(a),t++}return s}),tm.setAvailableRows(t)}tm.actionPipeline.notify("filter")}return this}}]),e}(),Controller=function(){function e(t){var n=this;_classCallCheck(this,e),this.settings=t,this.handlers=[],this.model=new Model,handlerList.setLimit(t.maxPanelsOpen);var i=void 0,s=tm.domElements.head,l=s.firstElementChild.children.length,r=document.createElement("tr"),a=new HandlerFactory(tm,this,handlerList);s.appendChild(r),addClass(r,"tm-filter-row"),t.autoCollapse||addClass(tm.domElements.container,"tm-filter-keep-open");var o=t.columns;Object.keys(o).forEach(function(e){if("all"!=e&&o.hasOwnProperty(e)&&isNaN(e)){var t=tm.id2index(e);null!=t&&(t=t.toString(),o[t]=o[e],delete o[e])}}),this.columnSettings=o;for(var u=document.createDocumentFragment(),c=0;c<l;c++)u.appendChild(document.createElement("td"));r.appendChild(u),this.row=r;for(var d=[].slice.call(r.children),m=[],h=0;h<d.length;h++){var f=d[h],v=this.getColumnSettings(h),p=null;v.enabled&&(p=a.create(v,h,f),m.push(p.getEvaluator())),this.handlers.push(p)}this.model.setEvaluators(m),tm.on("handlerChange",function(e){"manuell"===e?n.run():"keyup"==e.type&&"Enter"==e.key?n.run():"keyup"==e.type&&isNumber(t.filterAfterTimeout)?(clearTimeout(i),i=window.setTimeout(function(){n.run()},t.filterAfterTimeout)):"change"!==e.type||"INPUT"===e.target.nodeName&&"text"===e.target.type||n.run()})}return _createClass(e,[{key:"setOpen",value:function(){addClass(tm.domElements.container,"tm-filter-open")}},{key:"setClosed",value:function(){0===semaphor.val&&removeClass(tm.domElements.container,"tm-filter-open")}},{key:"getColumnSettings",value:function(e){e=e.toString();var t=void 0;switch(t=this.columnSettings.hasOwnProperty(e)?extend2(this.columnSettings[e],this.columnSettings.all):this.columnSettings.all,t.type){case"numeric":extend2(t,defaultNumericSettings),delete t.options.cs,delete t.options.matching;break;default:extend2(t,defaultStringSettings),delete t.options.comparator,delete t.options.range}return t}},{key:"getStats",value:function(){return this.model.getStats()}},{key:"run",value:function(){this.model.filter();var e=!1;return this.handlers.forEach(function(t){null!==t&&t.checkIfActive()&&(e=!0)}),!e&&this.settings.autoCollapse?removeClass(tm.domElements.container,"tm-filter-keep-open"):addClass(tm.domElements.container,"tm-filter-keep-open"),this}}]),e}();module.exports=new Module({name:"filter",defaultSettings:{autoCollapse:!0,maxPanelsOpen:3,filterAfterTimeout:500,columns:{all:{enabled:!0,type:"string",options:{}}}},initializer:function(e){try{tm=this,addClass(tm.domElements.container,"tm-filter");var t=new Controller(e);return info("module filter loaded"),{instance:t,getStats:function(){return t.getStats()},notify:function(){t.run()},unset:function(){console.info("unsetting filter, not implemented yet")}}}catch(e){error(e)}}});

},{"../utils.js":16,"./filterHandlers.js":10,"./module.js":12}],9:[function(require,module,exports){
"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_require=require("../utils.js"),isNumber=_require.isNumber,Evaluator=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"contructor",value:function(){}},{key:"update",value:function(t){throw new Error("function update() has to be overwritten")}},{key:"evaluate",value:function(){throw new Error("function evaluate() has to be overwritten")}},{key:"getStats",value:function(){throw new Error("function getStats() has to be overwritten")}},{key:"isActive",value:function(){throw new Error("function isActive() has to be overwritten")}}]),t}(),StringEvaluator=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.index=t,r.pattern=null,r.cs=!1,r.matching=!1,r}return _inherits(e,t),_createClass(e,[{key:"setPattern",value:function(t){if("string"!=typeof t&&null!==t)throw new Error("parameter is not a string");return this.pattern=t,this}},{key:"setCS",value:function(t){if("boolean"!=typeof t)throw new Error("parameter is not a boolean");return this.cs=t,this}},{key:"setMatching",value:function(t){if("boolean"!=typeof t)throw new Error("parameter is not a boolean");return this.matching=t,this}},{key:"update",value:function(t){return this.setPattern(t.getPattern()).setCS(t.getCS()).setMatching(t.getMatching()),this}},{key:"evaluate",value:function(t){var e=this.pattern;return this.cs||(t=t.toLowerCase(),e=e.toLowerCase()),this.matching?t===e:-1!==t.indexOf(e)}},{key:"getStats",value:function(){return{type:"string",index:this.index,pattern:this.pattern,cs:this.cs,matching:this.matching}}},{key:"isActive",value:function(){return null!=this.pattern&&this.pattern.length>0}}]),e}(Evaluator),NumericEvaluator=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.index=t,r.mode="comparator",r.comparator="=",r.pattern=null,r.minVal=null,r.maxVal=null,r.evaluate=r._evaluateComparator,r._comparatorFunction=e.operatorString2Function(r.operator),r}return _inherits(e,t),_createClass(e,[{key:"setMode",value:function(t){if("comparator"===t)this.mode=t,this.evaluate=this._evaluateComparator;else{if("range"!==t)throw new Error("wrong mode specified");this.mode=t,this.evaluate=this._evaluateRange}return this}},{key:"setComparator",value:function(t){return this.comparator=t,this._comparatorFunction=e.operatorString2Function(t),this}},{key:"setPattern",value:function(t){if(null===t||""===t)this.pattern=null;else{if(t=parseFloat(t),!isNumber(t))throw new Error("no number passed for pattern");this.pattern=t}return this}},{key:"setMinVal",value:function(t){if(null===t||""===t)this.minVal=null;else{if(t=parseFloat(t),!isNumber(t))throw new Error("no number passed for minVal");this.minVal=t}return this}},{key:"setMaxVal",value:function(t){if(null===t||""===t)this.maxVal=null;else{if(t=parseFloat(t),!isNumber(t))throw new Error("no number passed for minVal");this.maxVal=t}return this}},{key:"update",value:function(t){return this.setMode(t.getMode()).setComparator(t.getComparator()).setPattern(t.getPattern()).setMinVal(t.getMinVal()).setMaxVal(t.getMaxVal()),this}},{key:"evaluate",value:function(t){throw new Error("an error occured. this function must never be called")}},{key:"_evaluateRange",value:function(t){return(null===this.minVal||t>=this.minVal)&&(null===this.maxVal||t<=this.maxVal)}},{key:"_evaluateComparator",value:function(t){return this._comparatorFunction(t,this.pattern)}},{key:"getStats",value:function(){return"comparator"==this.mode?{type:"numeric",index:this.index,mode:"comparator",comparator:this.comparator,pattern:this.pattern}:{type:"numeric",index:this.index,mode:"range",minVal:this.minVal,maxVal:this.maxVal}}},{key:"isActive",value:function(){return"comparator"==this.mode?null!=this.pattern:null!=this.minVal||null!=this.maxVal}}],[{key:"operatorString2Function",value:function(t){switch(t){case"<":return function(t,e){return t<e};case">":return function(t,e){return t>e};case"<=":return function(t,e){return t<=e};case">=":return function(t,e){return t>=e};default:return function(t,e){return t==e}}}}]),e}(Evaluator);module.exports=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"create",value:function(t,e){switch(t){case"numeric":return new NumericEvaluator(e);case"string":return new StringEvaluator(e)}}}]),t}();

},{"../utils.js":16}],10:[function(require,module,exports){
"use strict";function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_require=require("../utils.js"),isNumber=_require.isNumber,hasClass=_require.hasClass,addClass=_require.addClass,removeClass=_require.removeClass,EvaluatorFactory=require("./filterEvaluators.js"),tm=void 0,filterController=void 0,handlerList=void 0,evaluatorFactory=new EvaluatorFactory,unique=function(){var e=0;return function(){return++e}}(),Handler=function(){function e(t,n,i){var r=this;_classCallCheck(this,e);this.index=n,this.cell=i,this.evaluator=null,this.isVisible=!1,this.cell.innerHTML="\n            <div class='tm-filter-div'></div>\n            <div class='tm-filter-icon'></div>\n            <div class='tm-filter-panel'>\n\t\t\t\t<div class='tm-filter-panel-triangle'></div>\n                <div class='tm-filter-panel-title'></div>\n                <div class='tm-filter-panel-content'></div>\n\t\t\t\t<div class='tm-filter-panel-discard'></div>\n            </div>",this.div=this.cell.querySelector("tm-filter-div"),this.icon=this.cell.querySelector(".tm-filter-icon"),this.discardIcon=this.cell.querySelector(".tm-filter-panel-discard"),this.discardIcon.title=tm.getTerm("FILTER_DISCARD"),this.panel=this.cell.querySelector(".tm-filter-panel"),this.content=this.cell.querySelector(".tm-filter-panel-content"),t.beautify&&"function"==typeof t.beautify?this.beautify=function(e){try{return t.beautify(e)}catch(e){return!1}}:this.beautify=function(e){return e},this.icon.addEventListener("click",function(e){r.isVisible?handlerList.setInActive(r):handlerList.setActive(r)}),this.discardIcon.addEventListener("click",function(e){[].slice.call(r.panel.querySelectorAll('input[type="text"]')).forEach(function(e){e.value=""}),r.evaluator.update(r),r.notifyController("manuell"),handlerList.setInActive(r),e.stopPropagation()}),this.panel.addEventListener("click",function(e){handlerList.setActive(r)}),this.panel.addEventListener("change",function(e){r.evaluator.update(r),r.notifyController(e)},!1),this.panel.addEventListener("keyup",function(e){r.evaluator.update(r),r.notifyController(e)},!1)}return _createClass(e,[{key:"hide",value:function(){this.isVisible&&(removeClass(this.icon,"tm-filter-icon-open"),this.panel.style.display="none",this.isVisible=!1)}},{key:"show",value:function(){if(!this.isVisible){addClass(this.icon,"tm-filter-icon-open"),this.panel.style.display="block";var e=this.panel.parentElement,t=e.parentElement,n=t.clientWidth,i=this.panel.clientWidth;e.offsetLeft+i+20>n&&addClass(this.panel,"tm-filter-panel-rightaligned"),this.isVisible=!0}}},{key:"checkIfActive",value:function(){return this.evaluator.isActive()?(addClass(this.cell,"tm-filter-active"),this.discardIcon.style.display="block",!0):(removeClass(this.cell,"tm-filter-active"),this.discardIcon.style.display="none",!1)}},{key:"setTitle",value:function(e){this.panel.querySelector(".tm-filter-panel-title").innerHTML=e}},{key:"setZIndex",value:function(e){return this.panel.style.zIndex=e,this}},{key:"setContent",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.panel.querySelector(".tm-filter-panel-content");if(t)for(;n.firstChild;)n.removeChild(n.firstChild);return"object"==(void 0===e?"undefined":_typeof(e))?n.appendChild(e):"string"==typeof e&&(n.innerHTML+=e),this}},{key:"getEvaluator",value:function(){return this.evaluator}},{key:"notifyController",value:function(e){tm.trigger("handlerChange",e)}}]),e}(),StringHandler=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i)),a=e.options;r.evaluator=evaluatorFactory.create("string",n),r.setTitle(tm.getTerm("FILTER_TITLE_STRING")),addClass(r.panel,"tm-filter-stringpanel");var l=document.createDocumentFragment(),o=document.createElement("div"),c=document.createElement("input");return c.type="text",r.patternInput=c,o.appendChild(c),l.appendChild(o),a.cs&&(o=document.createElement("div"),c=document.createElement("input"),c.type="checkbox",c.value="cs",o.appendChild(c),o.innerHTML+=tm.getTerm("FILTER_CASESENSITIVE"),r.csCheckbox=c,l.appendChild(o)),a.matching&&(o=document.createElement("div"),c=document.createElement("input"),c.type="checkbox",c.value="matching",o.appendChild(c),o.innerHTML+=tm.getTerm("FILTER_MATCHING"),r.matchingCheckbox=c,l.appendChild(o)),r.setContent(l),r.panel.addEventListener("change",function(e){var t=e.target;"INPUT"===t.nodeName&&"checkbox"===t.type&&""==r.patternInput.value&&e.stopPropagation()},!0),r}return _inherits(t,e),_createClass(t,[{key:"getPattern",value:function(){var e=this.patternInput.value;return""===e?null:this.beautify(e)}},{key:"getCS",value:function(){return!!this.hasOwnProperty("csCheckbox")&&this.csCheckbox.checked}},{key:"getMatching",value:function(){return!!this.hasOwnProperty("matchingCheckbox")&&this.matchingCheckbox.checked}}]),t}(Handler),NumericHandler=function(e){function t(e,n,i){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i)),a=e.options;e.beautify||(r.beautify=function(e){return parseFloat(e)}),r.evaluator=evaluatorFactory.create("numeric",n),r.setTitle(tm.getTerm("FILTER_TITLE_NUMERIC")),addClass(r.panel,"tm-filter-numericpanel"),r.comparatorElement=document.createElement("div"),r.rangeElement=document.createElement("div"),r.controllerElement=document.createElement("div"),addClass(r.comparatorElement,"tm-filter-comparator-input"),addClass(r.rangeElement,"tm-filter-range-input");var l=document.createDocumentFragment(),o=document.createElement("select");o.innerHTML="\n\t\t\t<option selected>=</option>\n\t\t\t<option>&lt;</option>\n\t\t\t<option>&gt;</option>\n\t\t\t<option>&lt;=</option>\n\t\t\t<option>&gt;=</option>",addClass(o,"tm-filter-option-comparator"),l.appendChild(o),r.comparatorSelect=o;var c=document.createElement("input");addClass(c,"tm-filter-pattern"),c.type="text",c.placeholder=tm.getTerm("FILTER_PLACEHOLDER"),l.appendChild(c),r.patternInput=c,r.comparatorElement.appendChild(l),c=document.createElement("input"),c.type="text",c.placeholder="von",addClass(c,"tm-filter-minVal"),l.appendChild(c),r.minValInput=c;var s=document.createElement("span");s.innerHTML="-",l.appendChild(s),c=document.createElement("input"),c.type="text",c.placeholder="bis",addClass(c,"tm-filter-maxVal"),l.appendChild(c),r.maxValInput=c,r.rangeElement.appendChild(l);var u="handler-"+unique();return r.controllerElement.innerHTML="<div><input type='radio' name='"+u+"' value='comparator' checked />Vergleichsoperator</div>\n\t\t <div><input type='radio' name='"+u+"' value='range' />Wertebereich</div>",a.range?a.comparator?(r.setContent(r.comparatorElement).setContent(r.controllerElement,!1),r._mode="comparator"):(r.setContent(r.rangeElement),r._mode="range"):(r.setContent(r.comparatorElement),r._mode="comparator"),r.panel.addEventListener("change",function(e){var t=e.target;"SELECT"===t.tagName&&""===r.patternInput.value?e.stopPropagation():"INPUT"===t.tagName&&"radio"===t.type&&(r.setMode(t.value),r.isAllEmpty()&&e.stopPropagation())},!0),r}return _inherits(t,e),_createClass(t,[{key:"getMode",value:function(){return this._mode}},{key:"getComparator",value:function(){return this.comparatorSelect?this.comparatorSelect.value:"="}},{key:"_getAnyInputValue",value:function(e){var t=this[e].value;return t=this.beautify(t),isNumber(t)?t:null}},{key:"getPattern",value:function(){return this._getAnyInputValue("patternInput")}},{key:"getMinVal",value:function(){return this._getAnyInputValue("minValInput")}},{key:"getMaxVal",value:function(){return this._getAnyInputValue("maxValInput")}},{key:"isAllEmpty",value:function(){return null===this.getPattern()&&null===this.getMinVal()&&null===this.getMaxVal()}},{key:"setMode",value:function(e){var t=this.panel;if("comparator"==e)this.content.replaceChild(this.comparatorElement,t.querySelector("div.tm-filter-range-input")),this._mode=e;else{if("range"!=e)throw new Exception("invalid mode value passed");this.content.replaceChild(this.rangeElement,t.querySelector("div.tm-filter-comparator-input")),this._mode=e}}}]),t}(Handler);module.exports=function(){function e(t,n,i){_classCallCheck(this,e),tm=t,filterController=n,handlerList=i}return _createClass(e,[{key:"create",value:function(e,t,n){switch(e.type){case"numeric":return new NumericHandler(e,t,n);default:return new StringHandler(e,t,n)}}}]),e}();

},{"../utils.js":16,"./filterEvaluators.js":9}],11:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),Module=require("./module.js"),_require=require("../utils.js"),inPx=_require.inPx,iterate=_require.iterate,setCss=_require.setCss,addClass=_require.addClass,removeClass=_require.removeClass,getCss=_require.getCss,getScrollbarWidth=_require.getScrollbarWidth,info=_require.info,error=_require.error,tm=void 0,scrollbarWidth=void 0,Fixed=function(){function e(t){var r=this;_classCallCheck(this,e);try{var i=void 0,l=tm.domElements.table,n=void 0,o=void 0,a=tm.domElements.tableWrap,s=void 0,d=tm.domElements.origHead,m=tm.domElements.origFoot,c=this,f=tm.domElements.container,h=getCss(tm.domElements.table,"border-collapse");if(scrollbarWidth=getScrollbarWidth(),d&&t.fixHeader){var u=this.getHeaderHeight();i=document.createElement("table"),o=document.createElement("div");var g=document.createElement("div");i.appendChild(d.cloneNode(!0)),o.appendChild(i),f.insertBefore(o,a),o.appendChild(g),addClass(i,"tm-head"),addClass(o,"tm-head-wrap"),addClass(g,"tm-head-rightCorner"),i.style.borderCollapse=h,d.style.visibility="hidden",l.style.marginTop=inPx("-"+u),o.style.marginRight=inPx(scrollbarWidth),g.style.width=inPx(scrollbarWidth),g.style.right=inPx(-scrollbarWidth),tm.domElements.headWrap=o,tm.domElements.head=i.tHead}if(m&&t.fixFooter){var v=this.getFooterHeight();n=document.createElement("table"),s=document.createElement("div"),n.appendChild(m.cloneNode(!0)),s.appendChild(foot),f.appendChild(s),addClass(n,"tm-foot"),addClass(s,"tm-foot-wrap"),iterate(m.firstElementChild.cells,function(e,t){t.innerHTML='<div class="tm-fixed-helper-wrapper">'+t.innerHTML+"</div>"}),n.style.borderCollapse=h,m.style.visibility="hidden",a.style.overflowX="scroll",a.style.marginBottom=inPx("-"+(scrollbarWidth+v)),s.style.marginRight=inPx(scrollbarWidth),tm.domElements.footWrap=s,tm.domElements.foot=foot.tFoot}i&&window.addEventListener("resize",function(){c.renderHead(),tm.domElements.table.clientWidth>tm.domElements.tableWrap.clientWidth?tm.domElements.tableWrap.style.overflowX="scroll":tm.domElements.tableWrap.style.overflowX="auto"}),n&&window.addEventListener("resize",function(){c.renderFoot()}),i&&n?(a.addEventListener("scroll",function(){window.requestAnimationFrame(function(){i.style.transform="translateX(-"+a.scrollLeft+"px)",s.scrollLeft=a.scrollLeft},!1)}),s.addEventListener("scroll",function(){window.requestAnimationFrame(function(){i.style.transform="translateX(-"+s.scrollLeft+"px)",a.scrollLeft=s.scrollLeft})},!1)):i&&!n?a.addEventListener("scroll",function(){window.requestAnimationFrame(function(){i.style.marginLeft=inPx("-"+a.scrollLeft)})}):!i&&n&&(s.addEventListener("scroll",function(){window.requestAnimationFrame(function(){a.scrollLeft=s.scrollLeft})}),a.addEventListener("scroll",function(){window.requestAnimationFrame(function(){s.scrollLeft=a.scrollLeft})})),setTimeout(function(){r.renderHead(),r.renderFoot()},50),setTimeout(function(){r.renderHead(),r.renderFoot()},500),this.headTable=i,this.footTable=n,this.headWrap=o,this.footWrap=s,info("module fixed loaded")}catch(e){console.warn(e)}}return _createClass(e,[{key:"getHeaderHeight",value:function(){return tm.domElements.origHead.clientHeight}},{key:"getFooterHeight",value:function(){return tm.domElements.origFoot.clientHeight}},{key:"renderHead",value:function(){if(this.headTable){var e=[].slice.call(this.headTable.firstElementChild.firstElementChild.cells),t=[].slice.call(tm.domElements.origHead.firstElementChild.cells);tm.domElements.table.style.marginTop=inPx("-"+this.getHeaderHeight()),iterate(e,function(e,r){var i=inPx(t[e].getBoundingClientRect().width);r.style.width=i,r.style.minWidth=i,r.style.maxWidth=i})}}},{key:"renderFoot",value:function(){if(this.footTable){var e=[].slice.call(this.footTable.firstElementChild.firstElementChild.cells),t=[].slice.call(tm.domElements.origFoot.firstElementChild.cells);tm.domElements.tableWrap.style.marginBottom=inPx("-"+(scrollbarWidth+this.getFooterHeight()+1)),iterate(e,function(e,r){var i=inPx(t[e].getBoundingClientRect().width);r.style.width=i,r.style.minWidth=i,r.style.maxWidth=i})}}}]),e}();module.exports=new Module({name:"fixed",defaultSettings:{fixHeader:!1,fixFooter:!1},initializer:function(e){tm=this,addClass(tm.domElements.container,"tm-fixed"),scrollbarWidth=getScrollbarWidth();var t=new Fixed(e);return{notify:function(){t.renderHead(),t.renderFoot()},renderHead:t.renderHead,renderFoot:t.renderFoot}}});

},{"../utils.js":16,"./module.js":12}],12:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_require=require("../utils.js"),error=_require.error,extend2=_require.extend2,isNonEmptyString=_require.isNonEmptyString,defaultParams={defaultSettings:{},settingsValidator:function(){return null},initializer:function(){return null}},defaultReturns={instance:{},unset:function(){},getStats:function(){},info:function(){},notify:function(){}};module.exports=function(){function e(t){if(_classCallCheck(this,e),!isNonEmptyString(t.name)){var n="Name must be given for module!";throw error(n),new Error(n)}extend2(t,defaultParams),extend2(this,t)}return _createClass(e,[{key:"getSettings",value:function(e){return extend2(e,this.defaultSettings),this.settingsValidator(e),e}},{key:"getModule",value:function(e,t){return t=this.getSettings(t),extend2(this.initializer.call(e,t,this),defaultReturns)}}]),e}();

},{"../utils.js":16}],13:[function(require,module,exports){
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Module=require("./module.js"),_require=require("../utils.js"),addClass=_require.addClass,info=_require.info,error=_require.error,extend2=_require.extend2,delay=_require.delay,tm=void 0,timeout=void 0,Controller=function(){function t(e,r){_classCallCheck(this,t);var n=this;this.pager=r,Object.keys(e).forEach(function(t){if(null==e[t])throw new Exception(t+" setting must be set!");n[t]=document.querySelector(e[t])}),this.left.addEventListener("click",function(){var t=n.getCurrentPageNumber()-1;t>0&&(n.setCurrentPageNumber(t),delay(function(){n.pager.update().run()}))}),this.right.addEventListener("click",function(){var t=n.getCurrentPageNumber()+1;t<=n.getTotalPages()&&(n.setCurrentPageNumber(t),delay(function(){n.pager.update().run()}))}),this.number.addEventListener("change",function(){var t=n.getCurrentPageNumber();isNaN(t)||t<1?t=1:t>n.getTotalPages()&&(t=n.getTotalPages()),n.setCurrentPageNumber(t),n.pager.update().run()}),this.limit.addEventListener("change",function(){var t=n.limit.value;(isNaN(t)||t<1)&&(n.limit.value=1),n.setCurrentPageNumber(1).updateTotalPages().pager.update().run()}),this.updateTotalPages()}return _createClass(t,[{key:"getOffset",value:function(){var t=parseInt(this.number.value),e=this.getTotalPages();return isNaN(t)||t<1&&0!=e?this.setCurrentPageNumber(1):t>e&&this.setCurrentPageNumber(e),this.getCurrentPageNumber()<=1?0:parseInt(this.getCurrentPageNumber()-1)*this.getLimit()}},{key:"getLimit",value:function(){var t=parseInt(this.limit.value);return isNaN(t)||t<1?(this.limit.value=this.pager.limit,this.pager.limit):t}},{key:"getTotalPages",value:function(){var t=0;return t=this.pager.totalManually&&this.pager.totalManually>=0?this.pager.totalManually:tm.countAvailableRows(),Math.ceil(t/this.getLimit())}},{key:"setCurrentPageNumber",value:function(t){if(t=parseInt(t),!isNaN(t)){parseInt(window.getComputedStyle(this.number).height);this.number.style.width=12*t.toString().length+"px",this.number.value=t}return this}},{key:"getCurrentPageNumber",value:function(){return parseInt(this.number.value)}},{key:"updateTotalPages",value:function(){return null!=this.total&&(this.total.innerHTML=tm.getTerm("PAGER_PAGENUMBER_SEPARATOR")+this.getTotalPages()+" "),this}},{key:"updatePageNumber",value:function(){var t=this.getTotalPages();return this.getCurrentPageNumber()>t&&this.setCurrentPageNumber(t),this}},{key:"update",value:function(){return this.updateTotalPages().updatePageNumber(),this}}]),t}(),Pager=function(){function t(e){_classCallCheck(this,t),this.offset=parseInt(e.offset),this.limit=parseInt(e.limit),this.totalManually=parseInt(e.totalManually),this.controller=new Controller(e.controller,this);try{this.controller.setCurrentPageNumber(this.controller.getCurrentPageNumber()),this.controller.number.removeAttribute("disabled")}catch(t){}}return _createClass(t,[{key:"run",value:function(){return tm.beforeUpdate("pager")&&tm.actionPipeline.notify("pager",{offset:this.getOffset(),limit:this.getLimit()}),this}},{key:"update",value:function(){return this.controller.update(),this.setOffset(this.controller.getOffset()).setLimit(this.controller.getLimit())}},{key:"setOffset",value:function(t){return null==t||isNaN(t)||(this.offset=t),this}},{key:"setLimit",value:function(t){return null==t||isNaN(t)||(this.limit=t),this}},{key:"setTotalManually",value:function(t){return this.totalManually=parseInt(t),this.update(),this}},{key:"getOffset",value:function(){return this.offset}},{key:"getLimit",value:function(){return this.limit}}]),t}();module.exports=new Module({name:"pager",defaultSettings:{offset:0,limit:500,totalManually:!1,controller:{left:null,right:null,number:null,total:null,limit:null}},initializer:function(t){try{tm=this;var e=new Pager(t);return addClass(tm.domElements.container,"tm-pager"),info("module pager loaded"),{instance:e,show:function(t,r){e.setOffset(r).setLimit(t).run()},getStats:function(){return{offset:e.getOffset(),limit:e.getLimit()}},notify:function(){e.update().run()},setTotalManually:function(t){e.setTotalManually(t)}}}catch(t){error(t)}}});

},{"../utils.js":16,"./module.js":12}],14:[function(require,module,exports){
"use strict";function _classCallCheck(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function getValue(r,e){return r.cells[e].textContent.trim().toLowerCase()}var _slicedToArray=function(){function r(r,e){var t=[],n=!0,s=!1,i=void 0;try{for(var a,o=r[Symbol.iterator]();!(n=(a=o.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(r){s=!0,i=r}finally{try{!n&&o.return&&o.return()}finally{if(s)throw i}}return t}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),Module=require("./module.js"),dateUtils=require("../dateUtils.js"),_require=require("../utils.js"),addClass=_require.addClass,isFn=_require.isFn,errorThrow=_require.errorThrow,hasProp=_require.hasProp,log=_require.log,info=_require.info,warn=_require.warn,error=_require.error,isBool=_require.isBool,isNonEmptyString=_require.isNonEmptyString,iterate=_require.iterate,removeClass=_require.removeClass,extend2=_require.extend2,isObject=_require.isObject,replaceIdsWithIndices=_require.replaceIdsWithIndices,FIRST_ENABLED_CELL="firstEnabled",SORT_ORDER_ASC="asc",SORT_ORDER_DESC="desc",tm=void 0,Parser=function(){function r(e,t){_classCallCheck(this,r),isFn(e)||errorThrow("First argument given to parser must be a function!"),this.getFn=e,this.defaultSettings=!!isObject(t)&&t}return _createClass(r,[{key:"get",value:function(r){var e=isObject(r);e&&!this.defaultSettings&&errorThrow("This parser doesn't accept options!");var t=this.getFn;return this.defaultSettings&&(e||(r={}),extend2(r,this.defaultSettings),t=this.getFn(r),isFn(t)||errorThrow("Parser didn't return a compare function!")),t}}]),r}(),Sorter=function(){function r(e){var t=this;if(_classCallCheck(this,r),extend2(this,{ready:!0,headers:{},headCells:[],rows:[]}),e.columns=replaceIdsWithIndices(e.columns),this.sortColumns=e.columns,this.currentOrders=[],this.headCells=[].slice.call(tm.domElements.head.firstElementChild.cells),iterate(e.customParsers,function(r,e){t.parsers[r]=new Parser(e)}),iterate(this.headCells,function(r,n){r=parseInt(r),t.getIsEnabled(r)&&(addClass(n,"sortable"),n.addEventListener("click",function(n){n.ctrlKey&&e.enableMultisort?t.manageMulti(r):t.manage(r)}))}),!1!==e.initialColumn){var n=e.initialColumn,s=e.initialOrder;if(s=s===SORT_ORDER_ASC,n===FIRST_ENABLED_CELL)for(var i=tm.getColumnCount(),a=0;a<i;++a)if(this.getIsEnabled(a)){n=a;break}this.getIsEnabled(n)&&this.setOrAddOrder(n,s).renderSortingArrows()}}return _createClass(r,[{key:"setOrAddOrder",value:function(r,e){return this.hasOrder(r)?this.currentOrders.filter(function(e){return e[0]===r})[0][1]=e:this.currentOrders.push([r,e]),this}},{key:"hasOrder",value:function(r){return this.currentOrders.filter(function(e){return e[0]===r}).length>0}},{key:"getOrder",value:function(r){if(this.hasOrder(r)){return this.currentOrders.filter(function(e){return e[0]===r})[0][1]}}},{key:"removeAllOrders",value:function(){return this.currentOrders=[],this}},{key:"getParser",value:function(r){var e=void 0;return e=hasProp(this.sortColumns,r,"parser")?this.sortColumns[r]:this.sortColumns.all,this.parsers.hasOwnProperty(e.parser)||errorThrow("The given parser "+e.parser+" does not exist!"),this.parsers[e.parser].get(e.parserOptions)}},{key:"getIsEnabled",value:function(r){return hasProp(this.sortColumns,r,"enabled")?this.sortColumns[r].enabled:this.sortColumns.all.enabled}},{key:"getParsers",value:function(){var r=this;return this.currentOrders.map(function(e){return r.getParser(e[0])})}},{key:"sort",value:function(){if(tm.beforeUpdate("sorter")){var r=this.currentOrders,e=r.length-1,t=this.getParsers();if(0!==r.length){var n=tm.getAvailableRows().sort(function(n,s){for(var i=0,a=0;0===i&&a<=e;){var o=r[a][0];i=t[a](getValue(n,o),getValue(s,o)),++a}return--a,r[a][1]?i:-i});tm.setAvailableRows(n)}tm.actionPipeline.notify("sorter")}return this}},{key:"renderSortingArrows",value:function(){iterate(tm.domElements.container.querySelectorAll(".sort-up, .sort-down"),function(r,e){removeClass(e,"sort-up"),removeClass(e,"sort-down")});for(var r=this.currentOrders.length-1;r>=0;--r){var e=_slicedToArray(this.currentOrders[r],2),t=e[0],n=e[1],s=this.headCells[t];addClass(s,n?"sort-up":"sort-down")}return this}},{key:"manage",value:function(r,e,t){if("string"==typeof r&&isNaN(parseInt(r))){var n=tm.id2index(r);null!=n&&(r=n)}return isBool(t)||(t=!this.hasOrder(r)||!this.getOrder(r)),!0!==e&&this.removeAllOrders(),this.setOrAddOrder(r,t),this.sort().renderSortingArrows(),this}},{key:"manageMulti",value:function(r,e){return this.manage(r,!0,e),this}}]),r}();Sorter.prototype.parsers={string:new Parser(function(r,e){return r>e?1:r<e?-1:0}),numeric:new Parser(function(r,e){return r=parseFloat(r),e=parseFloat(e),r-e}),intelligent:new Parser(function(r,e){var t=!isNaN(r),n=!isNaN(e);return t&&n?parseFloat(r)-parseFloat(e):t?-1:n?1:r>e?1:r<e?-1:0}),date:new Parser(function(r){var e=dateUtils.fecha,t=dateUtils.DATE_I18N,n=dateUtils.DATE_FORMATS;if(r.format)return isNonEmptyString(r.format)||errorThrow("Invalid date parsing format "+r.format+" given"),function(t,n){try{var s=e.parse(t,r.format),i=e.parse(n,r.format);if(!s||!i)throw new Error("couldn't parse date!");return s-i}catch(r){errorThrow("Error while comparing dates: "+r)}};if(r.preset){t[r.preset]||errorThrow("Invalid preset name "+r.preset+" given!");var s=n[r.preset];return function(r,t){try{for(var n=!1,i=void 0,a=0;!n&&a<s.length;)n=e.parse(r,s[a]),i=e.parse(t,s[a]),++a;if(!n)throw new Error("None of the given parsers matched!");return n-i}catch(r){errorThrow("Couldn't compare dates: "+r)}}}errorThrow("Neither a preset nor a date format has been given!")},{preset:dateUtils.DATE_GERMAN})},module.exports=new Module({name:"sorter",defaultSettings:{columns:{all:{enabled:!0,parser:"intelligent"}},initialColumn:FIRST_ENABLED_CELL,initialOrder:SORT_ORDER_ASC,enableMultisort:!0,customParsers:{}},initializer:function(r){tm=this;var e=new Sorter(r);return addClass(tm.domElements.container,"tm-sorter"),info("module sorter loaded"),{instance:e,notify:function(){e.sort()},getStats:function(){return e.currentOrders.map(function(r){return{index:r[0],order:r[1]?"asc":"desc"}})},sortAsc:function(r){return e.manage(r,!1,!0)},sortDesc:function(r){return e.manage(r,!1,!1)},info:function(){console.log(e.currentOrders)},unset:function(){log("unsetting sorter... not implemented yet")}}}});

},{"../dateUtils.js":4,"../utils.js":16,"./module.js":12}],15:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),config=require("./config.js"),Module=require("./modules/module.js"),Language=require("./language.js"),ActionPipeline=require("./actionPipeline.js"),EventSystem=require("./eventSystem.js"),_require=require("./utils.js"),error=_require.error,warn=_require.warn,isNonEmptyString=_require.isNonEmptyString,iterate=_require.iterate,extend=_require.extend,hasClass=_require.hasClass,addClass=_require.addClass,removeClass=_require.removeClass,tableFactory=_require.tableFactory,cloneArray=_require.cloneArray,getUniqueId=function(){var e=0;return function(){var t="tm-unique-"+e;return e++,t}}(),Tablemodify=function(){function e(t,n){_classCallCheck(this,e),extend(config.coreDefaults,n);var i=void 0,r=void 0,o=this,l=document.querySelector(t);return l&&"TABLE"===l.nodeName?hasClass(l,"tm-body")?(warn("the table "+t+" is already initialized."),null):n.containerId&&document.getElementById(n.containerId)?(error("the passed id "+n.containerId+" is not unique!"),null):(i=n.containerId?n.containerId:getUniqueId(),this.activeModules={__renderer:{notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offset||0,n=e.limit||1/0;o.render(n,t)}}},"fade"===n.transition?this.render=this._transitionedRender:this.render=this._standardRender,this.tableSelector=t,r=l.parentElement,this.columnCount=0,this.calculateColumnCount(l),this.currentLanguage=n.language,l.outerHTML="<div class='tm-container'>\n                        <style class='tm-custom-style'></style>\n                        <div class='tm-body-wrap'>\n                            "+l.outerHTML+"\n                        </div>\n                    </div>",this.domElements={container:r.querySelector(".tm-container"),stylesheet:null,table:null,head:null,body:null,foot:null,headWrap:null,tableWrap:null,footWrap:null,origHead:null,origFoot:null},l=this.domElements.container.querySelector("table"),this.domElements.table=l,this.domElements.tableWrap=l.parentElement,this.domElements.stylesheet=this.domElements.tableWrap.previousElementSibling,this.domElements.head=l.tHead,this.domElements.body=l.tBodies[0],this.domElements.foot=l.tFoot,this.domElements.origHead=l.tHead,this.domElements.origFoot=l.tFoot,this.domElements.container.id=i,this.containerId=i,addClass(this.domElements.container,"tm-theme-"+n.theme),addClass(l,"tm-body"),this.allRows=[].slice.call(this.domElements.body.rows),this.availableRows=cloneArray(this.allRows),this.actionPipeline=new ActionPipeline(this),this.eventSystem=new EventSystem(this),this.coreSettings=n,n.modules&&Object.keys(e.modules).forEach(function(t){if(n.modules.hasOwnProperty(t)){var i=e.modules[t],r=n.modules[t],l=void 0;l=i.getModule(o,r),void 0!==l&&(void 0===o.activeModules[t]?o.activeModules[t]=l:error("module name "+t+" causes a collision and is not allowed, please choose another one!"))}}),void this.actionPipeline.notify("__reload")):(error("there is no <table> with selector "+t),null)}return _createClass(e,[{key:"calculateColumnCount",value:function(e){var t=0;[].forEach.call(e.rows,function(e){e.cells.length>t&&(t=e.cells.length)}),this.columnCount=t}},{key:"getColumnCount",value:function(){return this.columnCount}},{key:"appendStyles",value:function(e){return e.trim().length>0&&this.domElements.stylesheet.appendChild(document.createTextNode(e.trim())),this}},{key:"getTerm",value:function(t){return e.languages[this.currentLanguage].get(t)}},{key:"getAvailableRows",value:function(){return this.availableRows}},{key:"getAllRows",value:function(){return this.allRows}},{key:"setAvailableRows",value:function(e){return this.availableRows=e,this}},{key:"setAllRows",value:function(e){return this.allRows=e,this}},{key:"countAvailableRows",value:function(){return this.availableRows.length}},{key:"countHiddenRows",value:function(){return this.allRows.length-this.availableRows.length}},{key:"countAllRows",value:function(){return this.allRows.length}},{key:"render",value:function(){throw new Exception("an error occured! tablemodify is not able to render the table")}},{key:"_standardRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.clearDOM();var n=document.createDocumentFragment();for(e===1/0||e+t>this.availableRows.length?e=this.availableRows.length:e+=t;t<this.availableRows.length&&t<e;)n.appendChild(this.availableRows[t]),t++;return this.domElements.body.appendChild(n),this.actionPipeline.notify("__renderer"),this}},{key:"_transitionedRender",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=function i(){e.domElements.body.removeEventListener("transitionend",i),e._standardRender(t,n),e.domElements.body.style.opacity=1};return this.domElements.body.addEventListener("transitionend",i),this.domElements.body.style.opacity=.3,setTimeout(function(){e.domElements.body.style.opacity=1},2e3),this}},{key:"clearDOM",value:function(){for(var e=this.domElements.body;e.firstChild;)e.removeChild(e.firstChild);return this}},{key:"insertRows",value:function(e){return this.clearDOM().setAllRows([]).appendRows(e)}},{key:"appendRows",value:function(e){if("string"==typeof e&&(this.domElements.body.innerHTML=e,e=[].slice.call(this.domElements.body.children)),Array.isArray(e)){var t=this.getAllRows().concat(e);this.setAllRows(t),this.coreSettings.usesExternalData?this.actionPipeline.notify("__renderer"):this.reload()}return this}},{key:"removeRows",value:function(){this.clearDOM().setAllRows([]).reload()}},{key:"insertRaw",value:function(e){return this.clearDOM().appendRaw(e)}},{key:"appendRaw",value:function(e){for(var t=document.createElement("tr"),n=document.createElement("td"),i=0;i<e.length;i++){for(var r=t.cloneNode(),o=e[i],l=0;l<o.length;l++)!function(e){var t=n.cloneNode(),i=o[e];t.innerHTML=i.c,i.hasOwnProperty("a")&&Object.keys(i.a).forEach(function(e){t.addAttribute(e,i.a[e])}),r.appendChild(t)}(l);this.allRows.push(r)}return this.reload(),this}},{key:"beforeUpdate",value:function(e){var t=this;if(!this.coreSettings.hasOwnProperty("beforeUpdate"))return!0;var n={};["sorter","filter","pager"].forEach(function(e){t.isActive(e)&&(n[e]=t.getModule(e).getStats())});var i=this.coreSettings.beforeUpdate(n,e);return null===i||void 0===i||!0===i}},{key:"isActive",value:function(e){return this.activeModules.hasOwnProperty(e)}},{key:"getModule",value:function(e){return this.isActive(e)?this.activeModules[e]:null}},{key:"id2index",value:function(e){var t=this.domElements.container.querySelector("thead > tr > *[tm-id="+e+"]");return t?[].indexOf.call(t.parentNode.children,t):null}},{key:"index2id",value:function(e){e++;var t=this.domElements.container.querySelector("thead > tr:first-of-type > *:nth-of-type("+e+")");return t?t.getAttribute("tm-id"):null}},{key:"reload",value:function(){return this.actionPipeline.notify("__reload"),this}},{key:"on",value:function(e,t){return this.eventSystem.on(e,t),this}},{key:"trigger",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(t=this.eventSystem).trigger.apply(t,[e].concat(i)),this}}],[{key:"addModule",value:function(e,t){if("function"==typeof e)return this.addModule(new Module({name:t,initializer:e}));if("object"===(void 0===e?"undefined":_typeof(e)))if(e instanceof Module){if(this.modules[e.name]){var n="Module "+e.name+" does already exist!";throw error(n),new Error(n)}this.modules[e.name]=e}else isNonEmptyString(t)&&(e.name=t),this.addModule(new Module(e))}},{key:"addLanguage",value:function(t,n){e.languages[t]=new Language(t,n)}}]),e}();Tablemodify.modules={columnStyles:require("./modules/columnStyles.js"),fixed:require("./modules/fixed.js"),filter:require("./modules/filter.js"),sorter:require("./modules/sorter.js"),pager:require("./modules/pager.js")},Tablemodify.languages={en:new Language("en",{FILTER_DISCARD:"discard filter",FILTER_PLACEHOLDER:"type filter here",FILTER_CASESENSITIVE:"case-sensitive",FILTER_MATCHING:"matching",FILTER_COMPARATOR:"comparator",FILTER_RANGE:"range",FILTER_RANGE_LIMIT:"upper limit",FILTER_TITLE_STRING:"string search",FILTER_TITLE_NUMERIC:"numeric search",FILTER_TITLE_DATE:"date search",PAGER_PAGENUMBER_SEPARATOR:" / "}),de:new Language("de",{FILTER_DISCARD:"Eingabe verwerfen",FILTER_PLACEHOLDER:"Filter eingeben",FILTER_CASESENSITIVE:"Gro&szlig; - und Kleinschreibung unterscheiden",FILTER_MATCHING:"Exakte Suche",FILTER_COMPARATOR:"Vergleichsoperator",FILTER_RANGE:"Zahlenbereich",FILTER_RANGE_LIMIT:"obere Grenze",FILTER_TITLE_STRING:"Filter nach Zeichenketten",FILTER_TITLE_NUMERIC:"Numerischer Filter",FILTER_TITLE_DATE:"Datumsfilter",PAGER_PAGENUMBER_SEPARATOR:" / "})},Tablemodify.Language=Language,Tablemodify.Module=Module,Tablemodify.version="v0.9.6",window.Tablemodify=Tablemodify;

},{"./actionPipeline.js":2,"./config.js":3,"./eventSystem.js":5,"./language.js":6,"./modules/columnStyles.js":7,"./modules/filter.js":8,"./modules/fixed.js":11,"./modules/module.js":12,"./modules/pager.js":13,"./modules/sorter.js":14,"./utils.js":16}],16:[function(require,module,exports){
"use strict";function id2index(e){var t=document.querySelector("thead > tr > *[tm-id="+e+"]");return t?[].indexOf.call(t.parentNode.children,t):null}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},config=require("./config.js");exports.log=function(e){config.debug&&console.log("tm-log: "+e)},exports.info=function(e){config.debug&&console.info("tm-info: "+e)},exports.warn=function(e){config.debug&&console.warn("tm-warn: "+e)},exports.trace=function(e){config.debug&&console.trace("tm-trace: "+e)},exports.error=function(e){console.error("tm-error: "+e)},exports.errorThrow=function(e){throw exports.error(e),new Error(e)},exports.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)},exports.addClass=function(e,t){return e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t),e},exports.removeClass=function(e,t){return e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),""),e},exports.wrap=function(e,t){return e.parentNode.insertBefore(t,e),t.appendChild(e),t},exports.elementIndex=function(e){try{for(var t=0;e=e.previousElementSibling;)t++;return t}catch(e){return-1}},exports.extend2=function e(t){for(var r=arguments.length,o=Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];for(var i=0;i<o.length;i++)!function(r){var n=o[r];Object.keys(n).forEach(function(r){if({}.hasOwnProperty.call(t,r)){var o=_typeof(t[r]);o!==_typeof(n[r])||"object"!==o&&"function"!==o||e(t[r],n[r])}else t[r]=n[r]})}(i);return t},exports.extend=function e(t,r){return Object.keys(t).forEach(function(o){r.hasOwnProperty(o)?"object"===_typeof(r[o])&&(r[o]=e(t[o],r[o])):r[o]=t[o]}),r},exports.getScrollbarWidth=function(){var e=document.createElement("div"),t=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var r=e.offsetWidth;e.style.overflow="scroll",t.style.width="100%",e.appendChild(t);var o=t.offsetWidth;return e.parentNode.removeChild(e),r-o},exports.setCss=function(e,t){for(var r in t)e.style[r]=t[r];return e},exports.getCss=function(e,t){return window.getComputedStyle(e,null)[t]},exports.inPx=function(e){return e+"px"},exports.iterate=function(e,t){if("object"===(void 0===e?"undefined":_typeof(e)))for(var r=Object.keys(e),o=r.length,n=0;n<o;n++)t(r[n],e[r[n]]);else for(var o=e.length,n=0;n<o;n++)t(e[n],n)},exports.isNonEmptyString=function(e){return"string"==typeof e&&e.trim().length>0};var isObj=exports.isObject=function(e){return"object"===(void 0===e?"undefined":_typeof(e))};exports.isFn=function(e){return"function"==typeof e},exports.isBool=function(e){return"boolean"==typeof e},exports.isNumber=function(e){return"number"==typeof e&&!isNaN(e)};var getProp=exports.getProperty=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];if(isObj(e)&&0!==r.length){for(var n=0;n<r.length-1;){if(e=e[r[n]],!isObj(e))return;++n}if(void 0!==e[r[n]])return e[r[n]]}};exports.hasProp=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return void 0!==getProp.apply(void 0,[e].concat(r))},exports.delay=function(){var e=void 0;return function(t){window.clearTimeout(e),e=window.setTimeout(t,400)}}(),exports.replaceIdsWithIndices=function(e){return Object.keys(e).forEach(function(t){if("all"!=t&&isNaN(t)){var r=id2index(t);null!=r&&(e[r]=e[t],delete e[t])}}),e},exports.cloneArray=function(e){for(var t=[],r=e.length;r--;)t[r]=e[r];return t},exports.debounce=function(e,t,r){var o;return function(){var n=this,i=arguments,s=function(){o=null,r||e.apply(n,i)},c=r&&!o;clearTimeout(o),o=setTimeout(s,t),c&&e.apply(n,i)}};

},{"./config.js":3}]},{},[15]);
