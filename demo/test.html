<!DOCTYPE html>
<html>
<head>
<title>test</title>
<link rel='stylesheet' href='../dist/themes/tm-theme-prompt.css' />
<link rel='stylesheet' href='../dist/tablemodify.css' />
<link rel='stylesheet' href='./test.css' />
<script src='../dist/tablemodify.min.js'></script>
<style>
#wrapper {
    position:relative;
    overflow:hidden;
}
#wrapper input {
    position:absolute;
    top:0;
    left:0;
    bottom:0;
    right:0;
    border:none;
    background-color:lightblue;
}
#meinContainer {
    height: 400px;
}
.controller {
    text-align: center;

}
#pager-left, #pager-right {
    cursor:pointer;
}

</style>
<script>
var tm;
var cols = 3;
function makeDataRow() {
    var row = [];

    for (var i = 0; i < 3; i++) {
        row.push({
            c: Math.random().toString().substr(2, 5)
        });
    }
    return row;
}

function createData(count) {
    var data = [];
    for (var i = 0; i < count; i++) {
        data.push(makeDataRow());
    }
    return data;
}

document.addEventListener('DOMContentLoaded', function() {
    tm = new Tablemodify('#test', {
        theme: 'prompt',
        language: 'en',
        containerId: 'meinContainer',
        /*
        beforeUpdate: function(infos, moduleName) {
                console.log(infos, moduleName)
                return false
        },*/
        modules: {
            sorter: {
                all: {
                    parser: 'string'
                }
            },
            filter: {
                filterAfterTimeout: 500,
                autoCollapse: true,
                columns: {
                    all: {
                        type: 'string',
                        options: {
                            cs: true,
                            matching: true
                        }
                    },
                    0: {
                        type: 'numeric',
                        options: {
                            comparator: true,
                            range: true
                        }
                    }
                }
            },/*
            pager: {
                controller: {
                    left: '#pager-left',
                    right: '#pager-right',
                    number: '#pager-pagenumber',
                    total: '#pager-total',
                    limit: '#pager-limit'
                }
            },*/
            fixed: {
                fixHeader:true
            },
            resizer: {}
        }
    });

    document.getElementById('number-add').onclick = function() {
        var count = parseInt(document.getElementById('number-inserts').value);

        if (!isNaN(count)) {
            var rows = createData(count);

            tm.appendRaw(rows);
        }
    };
    document.getElementById('number-remove').onclick = function() {
        tm.removeRows();
    }
});
</script>
</head>
<body>
    <div class='controller'>
        <span id='pager-left'>&#9665;</span>
        <input id='pager-pagenumber' value='1' />
        <span id='pager-total'></span>
        <span id='pager-right'>&#9655;</span>
        rows per page: <input id='pager-limit' value='100' size='3' />
    </div>
    <table id="test">
        <thead>
            <tr>
                <th>name</th>
                <th>alter</th>
                <th>haustier</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
    <input id='number-inserts' value="100" /><button id='number-add'>add random rows</button><button id='number-remove'>emty</button>
</body>
</html>
